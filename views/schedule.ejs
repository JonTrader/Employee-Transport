<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/schedule.css">
    <title>Schedule Transportation</title>
</head>
<body>

    <nav class="navbar navbar-dark bg-dark">
        <div class="container">
            <a href="/home"><button class="navbar-brand signout">Home</button></a>
            <a class="navbar-brand">*Mr/Mrs. User*</a>
          </div>
    </nav>

    <div class="container mt-5">
        <form action="/schedule" method="POST" id="schedule-form">
            <select class="dropdowns mr-5" name="from" id="from">
                <option value="" disabled selected>From</option>
                <option value="Midtown East">Midtown East</option>
                <option value="Brooklyn Navy Yard">Brooklyn Navy Yard</option>
                <option value="Kingston">Kingston</option>
                <option value="Hempstead">Hempstead</option>
                <option value="Edison, NJ">Edison, NJ</option>
                
            </select>

            <select class="dropdowns" name="to" id="to">
                <option value="" disabled selected>To</option>
                <option value="Midtown East">Midtown East</option>
                <option value="Brooklyn Navy Yard">Brooklyn Navy Yard</option>
                <option value="Kingston">Kingston</option>
                <option value="Hempstead">Hempstead</option>
                <option value="Edison, NJ">Edison, NJ</option>
            </select>

            <br>
            <button class="btn btn-dark mt-2">Submit</button>
        </form>

        
            <% for (let route of routesFound) { %>

                <form action="/schedule" method="POST">
                    <ul>
                        <li><%= route.from %> - <%= route.departureTime %></li>
                        <li><%= route.to %> - <%= route.arrivalTime %></li>
                    </ul>
                    <button>Submit</button>
                </form>
            <% } %>
        



            


    </div>
    
    <script>
        
        const s1 = document.getElementById("from");
        const s2 = document.getElementById("to");
        const b1 = document.getElementById("search");

        s1.addEventListener("change", function()
        {
            for (let value of s2)
            {
                if (value.getAttribute("value") !== "") value.removeAttribute("disabled");
            }

            s2[this.options.selectedIndex].setAttribute("disabled", "true"); 

        })

        s2.addEventListener("change", function()
        {
            for (let value of s1)
            {
                if (value.getAttribute("value") !== "") value.removeAttribute("disabled");
            }

            s1[this.options.selectedIndex].setAttribute("disabled", "true"); 
        })

    </script>
</body>
</html>